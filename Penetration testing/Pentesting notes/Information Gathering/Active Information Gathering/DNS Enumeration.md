DNS Enumeration is a cyclical process. An example of such a process: Do an enumeration on the domain -> Use the enumerated domains to obtain a decent idea of the ip range used. If the domain is configured with ptr records then reverse lookups should be possible which will allow us to enumerate domains associated with the range of ips. Another way expand the search is to use identify a format of a domain keyword such mail1, mail2. This may indicate that there may be a mail3 or mail4. Do active and passive information gathering on obtained results and repeat process.

DNS reconnaissance tools list: `dig,nslookup,host,dnsenum,fierce,dnsrecon,amass,assetfinder,puredns`

* Get DNS records:
	* `host`
	* `nslookup`: Same as host command but it is a windows utility
	* `dig any <domain|subdomain> @<DNS_IP>` get all records associated with the domain.
	* `dig -x <IP> @<DNS_IP>` reverse IP lookup (can do reverse IP look on the dns IP as well).
	* Recommended to execute dig commands again on every subdomain found from executing dig commands from a domain. Repeat until no information can be found from a domain/subdomain.
* DNS zone transfer: Get all DNS records in a zone.
	* `dig axfr [<domain|subdomain>] @<DNS_IP>`.
	* Using fierce: `fierce --domain <domain>`
* DNS enumeration tools using wordlists:
	* `dnsenum --dnsserver <ip> --enum [-p 0] [-s 0] [-r] [-o <output file>] -f <wordlist from seclists> <domain|subdomain>`
	* `dnsrecon`
	* `DNSdumpster`
	* `Sublist3r`
	* subfinder: `subfinder -d <domain> -v`
	* [Subbrute](https://github.com/TheRook/subbrute): `./subbrute <domain> -s ./[names.txt|<wordlist>] -r ./resolvers.txt`
	* Wordlists from `/usr/share/seclists/Discovery/DNS/`
* Domain/subdomain Takeovers: Check whether the target services are vulnerable to a subdomain takeover
	* [can-i-take-over-xyz](https://github.com/EdOverflow/can-i-take-over-xyz) 
* DNS spoofing/DNS Cache Poisoning: 
	* [Ettercap](https://www.ettercap-project.org/)
	* [Bettercap](https://www.bettercap.org/)

Additional resource: https://book.hacktricks.xyz/network-services-pentesting/pentesting-dns