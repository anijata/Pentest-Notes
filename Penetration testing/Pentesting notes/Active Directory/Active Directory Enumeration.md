
Note if there is method of enumeration that does not work or doesn't provide results (maybe due to lack of permission, API, service, protocol etc), try another method of enumeration that uses different API, tool, service, protocol.
* Manual:
	* `net <sub-command> /domain`: Enumerate domain information using net
		* Scripts and tools (The actual necessary part):
			* `ActiveDirectory` module for cmdlets like `Get-User`. This requires RSAT which needs admin privileges for installation.
			* `Get-NetUser`: PowerView function that return all users or specific user objects in AD.
			* `Get-NetGroup`: PowerView function that  return all groups or specific group objects in AD.
			* `Get-NetDomain`: PowerView function that  returns the domain object for the current (or specified) domain.
			* `Get-NetComputer`: PowerView function that return all computers or specific computer objects in AD.
			* `Find-LocalAdminAccess`:  PowerView function that finds machines on the local domain where the current user has local administrator access.
			* `Get-NetSession -ComputerName <ComputerName> -Verbose`: PowerView function that returns session information for the local (or a remote) machine.
				* Uses NetWkstaUserEnum (requires admin privileges) and NetSessionEnum API.
			* `Get-ADServiceAccount`: PowerView function which gets information on Service account. If you have an account that is able to read group managed service account (gmsa) password then use [GMSAPasswordReader] [https://github.com/rvazarkar/GMSAPasswordReader] 
			* `PSLoggedOn`: SysInternal suite tool for checking locally logged on user on remote machine. Use if Remote Registry services is enabled.
			* Enumerating Service Principal Name (SPN):
				* Its important to enumerate SPNs since it provides host, port across domain without having to do a port scan.  
				* `setspn -L <service common name (CN)>`: setspn.exe is installed by default. 
				* `Get-NetUser -SPN`: PowerView `Get-NetUser` command to enumerate SPNs. 
			* Enumerate object permissions: 
				* `Get-ObjectAcl`: PowerView function to enumerate object permission.
					* Use to obtain security identifiers and permissions they have for the object.
					* `Convert-SidToName <sid>`: PowerView function that converts SID to user friendly names. Use it to Convert Security Identifier obtained from `Get-ObjectAcl`
			* Enumerate Domain shares:
				* `Find-DomainShare`: PowerView function that lists shares on a domain.
					* Enumerate the share at UNC path: `\\ComputerName\Share`
					* Interesting shares:
						* SYSVOL share on a domain controller.
	* ldapsearch:
		* ldap anonymous binds search: `ldapsearch -H ldap://<IP>/ -x -s base -b '' "(objectClass=*)" "*" +` 
		* `ldapsearch -x -H ldap://<IP> -D '' -w '' -b "DC=<1_SUBDOMAIN>,DC=<TLD>"`
		* `ldapsearch -x -H ldap://<IP> -D '<DOMAIN>\<username>' -w '<password>' -b "DC=<1_SUBDOMAIN>,DC=<TLD>"`
		* Enumerate using ldapsearch once more using all the distinguished names from previous searches such as `-b "CN=<CN>,DC=<DC>..."`.
		* Additional resources: https://book.hacktricks.xyz/network-services-pentesting/pentesting-ldap
		

* Automated:
	* `SharpHound`: AD data collection tool for BloodHound.
		* `Invoke-BloodHound -CollectionMethod All -OutputDirectory <OutputDirectory> -OutputPrefix "<outfile prefix>"`
	* `BloodHound`: Automation tool for AD.
		* `sudo neo4j start`: neo4j is a graph nosql database required for BloodHound
		* `bloodhound`
		* After running `SharpHound` on target machine, transfer the data files to attack machines for bloodhound.
		* In `bloodhound` GUI upload data (option in right side of GUI) and go to the analysis section.
		* Some [custom queries](https://github.com/CompassSecurity/BloodHoundQueries) you can run on bloodhound